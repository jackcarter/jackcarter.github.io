<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Jack Carter : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <script src="https://cdn.plot.ly/plotly-1.2.0.min.js"></script>
    <title>Jack Carter</title>
  </head>

  <body>
<div id="myDiv" style="width:100%;height:100%;"></div>
<script>
function makeplot() {
  Plotly.d3.csv("https://raw.githubusercontent.com/jackcarter/jackcarter.github.io/master/data/speedtest.csv", function(data){ processData(data) } );

};

function processData(allRows) {

  var x = [], y = [];

  for (var i=0; i<allRows.length; i++) {
    row = allRows[i];
    x.push( row['Datetime'] );
    y.push( row['Download (Mbit/s)'] );
  }

  makePlotly( x, y);
}

function makePlotly( x, y ){
  var traces = [{
    x: x,
    y: y,
    mode: 'markers',
    type: 'scatter'
  }];

  Plotly.newPlot('myDiv', traces,
    {title: 'Download speed (Mbit/s)', xaxis: {
    range: [new Date().getTime() - 1000*60*60*24*14, new Date().getTime() + 1000*60*60*24]  // to set the xaxis range to 0 to 1
  }});
};
  makeplot();
</script>
</html>
